const btn=document.querySelector(".menu__btn"),menu=document.querySelector(".menu");btn.addEventListener("click",()=>{btn.classList.toggle("menu__btn-active"),menu.classList.toggle("menu-active"),document.body.classList.toggle("lock"),main.classList.toggle("main-header"),header.classList.toggle("bg-b-header"),headerInner.classList.toggle("header-menu"),menuItem.forEach(e=>e.classList.remove("menu__item-active")),subMenu.forEach(e=>{e.classList.remove("sub-menu-active")})});const menuItem=document.querySelectorAll(".menu__item"),header=document.querySelector(".header"),headerInner=document.querySelector(".header__inner"),subMenu=document.querySelectorAll(".sub-menu__body"),main=document.querySelector(".main");menuItem.forEach(e=>e.addEventListener("click",t=>{if(t.target.parentNode===e){if(t.preventDefault(),menuItem.forEach(e=>e.classList.remove("menu__item-active")),subMenu.forEach(e=>{e.classList.remove("sub-menu-active")}),!t.target.classList.contains("text"))return;const a=t.target.nextElementSibling;if(!a.classList.contains("sub-menu__body"))return;e.classList.add("menu__item-active"),a.classList.add("sub-menu-active"),header.classList.add("bg-b-header"),headerInner.classList.add("header-menu"),document.body.classList.add("lock"),main.classList.add("main-header")}})),main.addEventListener("click",e=>{menuItem.forEach(e=>{e.classList.remove("menu__item-active")}),subMenu.forEach(e=>{e.classList.remove("sub-menu-active")}),header.classList.remove("bg-b-header"),headerInner.classList.remove("header-menu"),document.body.classList.remove("lock"),main.classList.remove("main-header"),btn.classList.remove("menu__btn-active"),menu.classList.remove("menu-active")});let swiper=new Swiper(".swiper",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:20,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const accordionItemTitle=document.querySelectorAll(".accordion-item__title"),accordionItem=document.querySelectorAll(".accordion-item");accordionItemTitle.forEach(e=>{e.addEventListener("click",()=>{const t=e.parentNode;t.classList.contains("accordion-item-active")?t.classList.remove("accordion-item-active"):(accordionItem.forEach(e=>{e.classList.remove("accordion-item-active")}),t.classList.add("accordion-item-active"))})});const form=document.querySelector(".form"),telSelector=form.querySelector('input[type="tel"]'),inputMask=new Inputmask("+7 (999) 999-99-99");inputMask.mask(telSelector);const validation=new JustValidate(".form");validation.addField(".input-email",[{rule:"required",value:!0,errorMessage:"Email обязателен"},{rule:"email",value:!0,errorMessage:"Введите корректный Email"}]).addField(".input-tel",[{rule:"required",value:!0,errorMessage:"Телефон обязателен"},{rule:"function",validator:function(){return 10===telSelector.inputmask.unmaskedvalue().length},errorMessage:"Введите корректный телефон"}]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e.target.reset()});const formBtn=document.querySelector(".form__item-btn");formBtn.addEventListener("click",()=>{document.querySelector(".just-validate-error-label")&&document.querySelector(".form__list").classList.toggle("error")});